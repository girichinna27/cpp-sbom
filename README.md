# SBOM Submission Workflow using Jenkins and SSD

## 📌 Pre-requisites

- ✅ Docker image of the CPP application for which SBOM is to be generated.
- ✅ Access to SSD endpoint (e.g., `https://ssd-feb.oea-dev.opsmx.net`)
- ✅ Jenkins access with appropriate credentials and environment setup.

---

## ⚙️ Jenkins Job Overview

Jenkins job:  
🔗 [Dev-ortseam-sbom](https://ssdqajenkins.opsmx.org/job/Dev-ortseam-sbom)

This Jenkins job performs the following steps:

1. **Shell Script 1**:  
   - Generates an SBOM file (`*.json`) for the provided CPP application Docker image.
   - Commits this file to the GitHub repository under the folder: `sbom-reports/`.

2. **Shell Script 2**:  
   - Takes the output SBOM JSON file generated by Shell Script 1.
   - Uses a `curl` command to submit this SBOM file to the SSD endpoint for data collection and processing.

---

## 🚀 How to Trigger

- Trigger the Jenkins job with the required **CPP application Docker image** and **Image tag** as input parameters.  
  Example: `opsmx11/k8s-decoder`
           `hal`

---

## 🧪 Verification

Once the Jenkins job completes successfully:

1. **Check SSD Logs**:
   - Go to your Kubernetes cluster and check the logs for the `ssd-opa` pod.
   - Ensure the curl submission from Script 2 is received and processed.

2. **Check SSD UI**:
   - Navigate to the **Artifacts Security** page on the SSD UI.
   - Look under:
     - ✅ *Deployed Artifacts*  
     - OR  
     - ✅ *Generated Artifacts*

This confirms the SBOM file was received and processed by SSD successfully.
